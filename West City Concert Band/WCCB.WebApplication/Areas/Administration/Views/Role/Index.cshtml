@model IEnumerable<WCCB.Models.Role>

@{
    ViewBag.Title = "Roles";
}

@(Html.Kendo().Grid<WCCB.Models.Role>()
    .Name("grid")
    .Pageable()
    .BindTo(Model)
    .ToolBar(tbar =>
                 {
                     tbar.Template(@<text>
                                        @Html.ActionLink("Create New", "Create", "Role", null, new { @class = "k-button" })
                                    </text>);
                 })
    .Columns(col =>
                 {
                     col.Bound(x => x.Name);
                     col.Bound(x => x.Users.Count).Title("Users");
                     col.Template(@<text>
                                       @if (item.Users.Count <= 0)
                                       {
                                           @Html.ActionLink("Delete", "Delete", "Role", new {id = item.RoleId}, new { @class = "k-button" })
                                       }
                                       
                                   </text>).Title("Actions");
                 })
      )
