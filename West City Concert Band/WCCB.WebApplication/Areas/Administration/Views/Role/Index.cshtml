@{
    ViewBag.Title = "Roles";
}

@(Html.Kendo().Grid<RoleGridModel>()
    .Name("grid")
    .DataSource(ds => ds
        .Ajax()
        .Model(model =>
                   {
                       model.Id(role => role.RoleId);
                   })
        .Read("GetRoles", "Role", new { @area = "Administration" })
        
        )
        .Pageable()
    .ToolBar(tbar =>
                 {
                     tbar.Template(@<text>
                                        @Html.ActionLink("Create New", "Create", "Role", null, new { @class = "k-button" })
                                    </text>);
                 })
    .Columns(col =>
                 {
                     col.Bound(x => x.Name);
                     col.Bound(x => x.UserCount).Title("User Count");
                     col.Template(@<text>
                                       @if (item.UserCount <= 0)
                                       {
                                           @Html.ActionLink("Delete", "Delete", "Role", new {id = item.RoleId}, new { @class = "k-button" })
                                       }
                                   </text>).Title("Actions");
                 })
      )
     
